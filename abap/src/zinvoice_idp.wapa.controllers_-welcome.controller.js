sap.ui.define(["aws/fin/ap/controllers/BaseController","sap/ui/core/Fragment","sap/ui/core/message/Message","sap/ui/model/json/JSONModel","sap/ui/model/BindingMode","sap/ui/core/library","sap/ui/core/BusyIndicator","sap/m/MessageBox","sap/m/MessageToast"+
],function(e,t,s,i,a,r,o,n,g){"use strict";var u=r.MessageType;return e.extend("aws.fin.ap.controllers.Welcome",{onInit:function(){this.oRouter=this.getOwnerComponent().getRouter();var e=new i({email:""});this.setModel(e,"subscription");this.getModel("su+
bscription").setDefaultBindingMode(a.TwoWay);this.messageManager=sap.ui.getCore().getMessageManager();this.messageManager.registerObject(this.getView(),true)},onCodeSnippetsButtonDocuPress:function(e){this.oRouter.navTo("code")},onSubscribeToAlertsButton+
Press:function(e){var s=e.getSource(),i=this.getView();if(!this._pPopover){this._pPopover=t.load({id:i.getId(),name:"aws.fin.ap.fragments.popover",type:"XML",controller:this}).then(function(e){i.addDependent(e);return e})}this._pPopover.then(function(e){+
this.getModel("subscription").setProperty("/email","");e.openBy(s)}.bind(this))},onGettingStartedButtonPress:function(e){var t=this.getResourceBundle().getText("gettingStarted");sap.m.URLHelper.redirect(t,true)},onSubscribeButtonPress:function(e){var t=t+
his.byId("idEmailInput");this.validateEmail(t);if(!this.messageManager.getMessageModel().getData().length>0){this.getModel().callFunction("/SubscribetoAlerts",{error:function(e){n.error(this.getResourceBundle().getText("msgsubscriptionerror"));o.hide()},+
success:function(e){o.hide();g.show(this.getResourceBundle().getText("msgsubscription"),{duration:4e3})}.bind(this),method:"POST",urlParameters:{email:t.getValue()}})}},onEmailInputChange:function(e){var t=e.getSource();this.validateEmail(t)},removeMessa+
gefromTarget:function(e){this.messageManager.getMessageModel().getData().forEach(function(t){if(t.target===e){this.messageManager.removeMessages(t)}}.bind(this))},validateEmail:function(e){var t=e.getBindingPath("value");var i=e.getBinding("value");var a+
=this.getModel("subscription");this.removeMessagefromTarget(t);try{i.getType().validateValue(e.getValue())}catch(e){this.messageManager.addMessages(new s({message:e.message,type:u.Error,target:t,processor:a}))}}})});                                       
//# sourceMappingURL=Welcome.controller.js.map                                                                                                                                                                                                                 